<app-navbar></app-navbar>
<div class="container my-5">

    <!-- <h5 *ngIf="departamentoCadastrado" class=" text-center my-3">Dados do Departamento do Cargo: {{cargo.ca_nome}}</h5>
    <h5 *ngIf="!departamentoCadastrado" class="text-center my-3"> Cargo {{cargo.ca_nome}} sem departamento!</h5> -->

  <h5 class=" text-center my-3">Dados do Departamento  {{cargo.ca_nome}}</h5>

  <div class="card "  >
    <form class="p-3">
     <div class="row">
      <div class="col">
        <div class="mb-3">
          <label class="form-label">Departamento</label>
          <input type="text" class="form-control" readonly [(ngModel)]="departamento.dep_nome" name="dep_nome" >
      </div>
      <div *ngIf="!departamentoCadastrado" class="my-3">
        <select class="form-select my-3" aria-label="Default select example" autocomplete="on" [(ngModel)]="departamentoSemCargo" name="departamentoSemCargo" (ngModelChange)="mostrarDepartamento()" class="w-100 p-2">
          <option selected [ngValue]="departamentoSemCargo">Selecione o Departamento sem Cargo</option>
          <option *ngFor="let departamento of departamentosSemCargo" [ngValue]="departamento" >
            {{departamento.dep_nome}}
          </option>
        </select>
      </div>
      <div *ngIf="departamentoCadastrado" class="my-3">
        <select class="form-select my-3" aria-label="Default select example" autocomplete="on" [(ngModel)]="departamentoSemCargo" name="departamentoSemCargo" (ngModelChange)="mostrarDepartamento()" class="w-100 p-2">
          <option selected [ngValue]="departamentoSemCargo">Selecione o Departamentos sem Cargo</option>
          <option *ngFor="let departamento of departamentosSemCargo" [ngValue]="departamento" >
            {{departamento.dep_nome}}
          </option>
        </select>
      </div>
      <div class="mt-3">
        <button *ngIf="departamentoCadastrado"  class="btn btn-success me-3" (click)="atribuirDepartamento()">Alterar</button>
        <button *ngIf="!departamentoCadastrado" class="btn btn-success me-3" (click)="atribuirDepartamento()">Salvar</button>
        <button  routerLink="/listarCargos" class="btn btn-dark">Cancelar</button>
      </div>
    </div>
    <div class="col"  *ngIf="departamentoCadastrado">
      <div class=" bg-success rounded-3 text-center mt-3">
        <h5 class=" text-warning fs-4 p-3 rounded-3 mx-5" > Gostaria de <strong>EXCLUIR</strong> o departamento do cargo?</h5>
        <button (click)=" deixarCargoSemDepartamento()" class="btn btn-dark text-light mb-3">Confirmar</button>
      </div>
    </div>
    <div class="col mt-3 p-2" *ngIf="!departamentoCadastrado">
      <div class=" bg-success rounded-3 text-center mt-3">
        <h5 class=" text-warning fs-4 p-3 rounded-3 mx-5" >Esse cargo não possui departamento para excluir.</h5>
      </div>
    </div>
    </div>
  </form>
</div>
</div>
<div class="fixed-top">
  <div *ngIf="cadastrado" class="alert alert-success w-75 text-center m-auto" role="alert">Departamento Cadastrado ao Cargo!<i (click)="fechar()" class="fa-solid fa-rectangle-xmark fs-1 float-end" style="cursor: pointer;"></i></div>
  <div *ngIf="error" class="alert alert-danger w-75 text-center m-auto" role="alert">Erro!Não foi possível cadastrar este departamento.<i (click)="fechar()" class="fa-solid fa-rectangle-xmark fs-1 float-end" style="cursor: pointer;"></i></div>
  <div *ngIf="retirado" class="alert alert-success w-75 text-center m-auto" role="alert">Cargo sem departamento.<i (click)="fechar()" class="fa-solid fa-rectangle-xmark fs-1 float-end" style="cursor: pointer;"></i></div>
  <div *ngIf="erro" class="alert alert-danger w-75 text-center m-auto" role="alert">Erro! Não foi possível retirar o departamento desse cargo.<i (click)="fechar()" class="fa-solid fa-rectangle-xmark fs-1 float-end" style="cursor: pointer;"></i></div>
</div>




